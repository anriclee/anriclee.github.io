<!doctype html><html lang=en><head><meta name=generator content="Hugo 0.145.0"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><title>ReadTinyWords</title><meta name=Description content="Hugo theme - LoveIt"><meta property="og:url" content="https://anriclee.github.io/">
<meta property="og:site_name" content="ReadTinyWords"><meta property="og:title" content="ReadTinyWords"><meta property="og:description" content="Hugo theme - LoveIt"><meta property="og:locale" content="en"><meta property="og:type" content="website"><meta property="og:image" content="https://anriclee.github.io/logo.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://anriclee.github.io/logo.png"><meta name=twitter:title content="ReadTinyWords"><meta name=twitter:description content="Hugo theme - LoveIt"><meta name=application-name content="My cool site"><meta name=apple-mobile-web-app-title content="My cool site"><meta name=referrer content="no-referrer"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://anriclee.github.io/><link rel=alternate href=/index.xml type=application/rss+xml title=ReadTinyWords><link rel=feed href=/index.xml type=application/rss+xml title=ReadTinyWords><link rel=stylesheet href=/css/style.min.css><link rel=preload href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css></noscript><link rel=preload href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css as=style onload='this.onload=null,this.rel="stylesheet"'><noscript><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css></noscript><script type=application/ld+json>{"@context":"http://schema.org","@type":"WebSite","url":"https:\/\/anriclee.github.io\/","inLanguage":"en","author":{"@type":"Person","name":"anriclee"},"description":"Hugo theme - LoveIt","name":"ReadTinyWords"}</script></head><body data-header-desktop=fixed data-header-mobile=auto><script>(window.localStorage&&localStorage.getItem("theme")?localStorage.getItem("theme")==="dark":"auto"==="auto"?window.matchMedia("(prefers-color-scheme: dark)").matches:"auto"==="dark")&&document.body.setAttribute("theme","dark")</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=ReadTinyWords><span id=id-1 class=typeit></span></a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=ReadTinyWords><span id=id-2 class=typeit></span></a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/ title>Posts</a><a class=menu-item href=/tags/ title>Tags</a><a class=menu-item href=/categories/ title>Categories</a><a href=javascript:void(0); class="menu-item theme-switch" title>
<i class="fas fa-adjust fa-fw" aria-hidden=true></i></a></div></div></header><main class=main><div class=container><div class="page home" data-home=posts><div class=home-profile><div class=home-subtitle><div id=id-3 class=typeit></div></div><div class=links></div></div><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/essays/poems/>中秋绝句</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><p>中秋绝句</p><blockquote><p>癸卯秋夜，虽炎热潮湿，开窗无月，然心情大好，咏志抒怀，无碍也，是为序。</p></blockquote><p>自来霜雪映吴钩，半生浮云半生幽</p><p>未有三旬寂寞守，何能一夜照清秋</p></div><div class=post-footer><a href=/posts/essays/poems/></a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/spring_framework/core/spring_aop/concept/>[译] Spring AOP 概念</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><p>AOP 通过提供另外一种关于程序结构的思考方式补充了面向对象编程（OOP ）。在 OOP 中模块的关键单元是 class，而在 AOP 中，模块的关键是 Aspect（切面）。切面支持跨多个对象和类型的关注点模块化（比如事务的管理）。在 AOP 中这种关注点通常被叫做 “跨领域” 关注点。</p><p>Spring 的一个核心组件就是 AOP 框架。虽然 Spring IoC 容器并不依赖于 AOP（意思是如果不想用 AOP 可以不用），但是 AOP 对 Spring IoC 做了一个补充，提供了一种功能非常强大的中间件解决方案。</p><blockquote><p>Spring AOP 和 切面切点</p><p>Spring 提供了简单而高效的方式来自定义切面，可以通过基于 schema 的方法也可以通过 @AspectJ 注解的风格。当使用 Spring AOP 来织入时，这两种风格都提供了充分类型的 advice 和 AspectJ 的切点语言。</p><p>这张主要讨论 schema 和 @Aspect 的 AOP 支持。AOP 底层的支持在下面的一章节会讨论到。</p></blockquote><p>AOP 在 Spring 框架中的用途：</p><ul><li>提供声明式的企业级服务。最重要的就是声明式事务管理</li><li>让用户实现自定义的切面作为他们用 AOP 实现 OOP 的补充。</li></ul><p>Note：如果你对通用的声明式服务或者其他预先打包的声明式中间件服务感兴趣，你不用直接和 Spring AOP 直接打交道，可以跳过本章的大部分地方。</p><h1 id=aop-概念>AOP 概念</h1><p>让我们从一些核心的 AOP 概念和术语出发。这些术语并不只是 Spring 特有的。不幸地是，AOP 术语并不符合直觉。然而，如果 Spring 使用它自己的术语，或许会更加令人迷惑。</p></div><div class=post-footer><a href=/posts/spring_framework/core/spring_aop/concept/></a></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/spring_framework/core/the_ioc_container/bean_overview/>[译] Bean 概述</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><p>一个 Sring IoC 容器可以操作一个或者多个 bean。这些 bean 是通过你提供给容器的配置元数据生成的（例如，以 XML 中的 <code>&lt;bean/></code> ）。</p><p>在容器内，这些 bean 的定义被表示成 <code>BeanDefinition</code> 对象的形式，包含了下面的元数据：</p><ul><li>包定义的类名：通常是定义的 bean 的真正实现类</li><li>bean 行为配置元素，表明了 bean 在 container 中的行为（scope，生命周期回调等等）。</li><li>对其他需要的 bean 的引用。这些引用也被称作协作器和依赖。</li><li>在一个新创建的对象中的其他配置设置 - 例如，池的数量限制或者一个操作连接池 bean 中的连接数量</li></ul><p>这些元数据转换为构成这些 bean 定义的一系列属性。下表表示了这些属性值：</p><table><thead><tr><th>属性</th><th>含义</th></tr></thead><tbody><tr><td>Class</td><td>正在实例化的bean</td></tr><tr><td>Name</td><td>bean的名字</td></tr><tr><td>Scope</td><td>Bean的Scope</td></tr><tr><td>构造函数参数</td><td>依赖注入</td></tr><tr><td>自动装配模式</td><td>装配的协作对象</td></tr><tr><td>懒加载模式</td><td>懒加载 Bean</td></tr><tr><td>初始化方法</td><td>初始化回调</td></tr><tr><td>析构方法</td><td>析构回调</td></tr></tbody></table><p>除了包含怎么创建一个特定的 bean 的信息之外， <code>ApplicationContext</code> 的实现同样允许在容器外面已经创建好的对象注册到其中（用户创建）。这是通过 <code>getBeanFactory</code> 方法获取到 <code>ApplicationContext</code> 的 <code>BeanFactory</code>，得到 <code>DefaultListableBeanFactory</code> 实现来做到的。<code>DefaultListableBeanFactory</code> 支持通过调用 <code>registerSingleton(..)</code> 和 <code>registerBeanDefinition(..)</code> 方法来实现这样的注册。然而，典型的应用程序仅仅使用常规的 bean 定义元数据。</p></div><div class=post-footer><a href=/posts/spring_framework/core/the_ioc_container/bean_overview/></a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/spring/>Spring</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/spring_framework/core/the_ioc_container/container_and_beans/>[译] Spring IOC 容器</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><h1 id=spring-ioc-和-bean-的简介>Spring IOC 和 bean 的简介</h1><p>本章涵盖了 SpringFramework 中的控制反转原则（Ioc）的实现。IoC 也被称为依赖注入（DI）。它是这样的一种过程，在此期间对象仅通过构造函数参数、工厂方法的参数或者当对象实例被构造后或者通过工厂方法返回时在它上面设置的属性定义自己的依赖（即对象必须合作的其他对象）。</p><p>当容器创建这些 bean 后，再注入这些依赖。</p><p>这个过程本质上与bean 通过使用直接的类构造函数进行直接实例化或者通过类似 Service Locator模式来寻找依赖的位置是相反的（这也是 IoC 名字的由来）。</p><p><code>org.springframework.beans</code> 和 <code>org.springframework.context</code> 包是 SpringFramework IoC 容器的基石。<code>BeanFactory</code> 接口提供了一种更先进的能够控制人已类型对象的配置机制。<code>ApplicationContext</code> 是 <code>BeanFactory</code> 的子接口。它增加了下面的特性：</p><ul><li>与 Spring 的 AOP 特性更容易整合</li><li>消息资源处理（在国际化场景的使用）</li><li>事件发布</li><li>例如用于 Web 应用的 <code>WebApplicationContext</code> 应用层特定的上下文</li></ul><p>总而言之，<code>BeanFactory</code> 提供了配置的框架和基本的功能。<code>ApplicationContext</code> 增加了更多的企业特定的功能。<code>ApplicationContext</code> 完全是 <code>BeanFactory</code> 的超集。在本章关于 Spring IoC 容器做专门描述时会用到。想要获取更多的关于使用 <code>ApplicationContext</code> 而非 <code>BeanFactory</code> 的信息，参见介绍 <a href=https://docs.spring.io/spring-framework/reference/core/beans/beanfactory.html target=_blank rel="noopener noreffer">BeanFactory</a> API 的部分。</p><p>在 Spring 中，作为你应用基石同时可以被 Spring IoC 容器所操控的对象就被称之为 bean。bean 就是被 Spring IoC 容器实例化、组装和设置的对象。否则，一个 bean 就是你应用程序中诸多对象中的一个。 Beans 以及他们依赖关系，反映在容器使用的配置元数据中。</p></div><div class=post-footer><a href=/posts/spring_framework/core/the_ioc_container/container_and_beans/></a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/spring/>Spring</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/spring_framework/core/the_ioc_container/container_overview/>[译] 容器概述</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><h1 id=容器概述>容器概述</h1><p><code>org.springframework.context.ApplicationContext</code> 接口代表了 Spring IoC 容器，它主要负责通过读取配置文件对 bean 进行实例化、配置和组装。
容器通过读取配置元数据来获知要实例化、配置和组装那些对象。配置的元数据一般为 XML、Java 注解和 Java 代码的形式，它让你能够表达组成你应用程序的对象以及对象之间的丰富的相互依赖关系。</p><p>Spring 提供了 <code>ApplicationContext</code> 接口的若干实现。在单体应用中，创建一个 <code>ClassPathXmlApplicationContext</code> 或者 <code>FileSystemXmlApplicationContext</code> 是很常见的。虽然 XML 是定义配置元数据的传统形式，但是你还可以通过在 XML 文件里面进行声明配置来告诉容器对于 Java 注解或者Java代码格式的支持。</p><p>在大多数的应用场景中，并不需要显式的代码来实例化 Spring IoC 容器。例如，在 Web 应用的场景中，在 <code>web.xml</code> 文件中仅用简单的 8 行代码左右的样板 Web XML 描述符即可满足需要（参考 <a href=https://docs.spring.io/spring-framework/reference/core/beans/context-introduction.html#context-create target=_blank rel="noopener noreffer">Convenient ApplicationContext Instantiation for Web Applications</a>）。如果你使 Eclipse 中的 Spring 工具（在 Eclipse 开发环境中），你可以通过几下鼠标点击或者按键的敲击就能轻松创建这样一个样板配置文件。</p><p>下图展示了关于 Spring 工作机制的一个全局视角。在 <code>ApplicationContext</code> 被创建和初始化后，你的应用类和配置元数据已经捆绑在一起了，这样一来，你就有一个充分配置并且可执行的系统或者应用程序。</p><p><img class=lazyload src=/svg/loading.min.svg data-src=/posts/spring_framework/core/the_ioc_container/container_overview/imgs/ioc.png data-srcset="/posts/spring_framework/core/the_ioc_container/container_overview/imgs/ioc.png, /posts/spring_framework/core/the_ioc_container/container_overview/imgs/ioc.png 1.5x, /posts/spring_framework/core/the_ioc_container/container_overview/imgs/ioc.png 2x" data-sizes=auto alt=/posts/spring_framework/core/the_ioc_container/container_overview/imgs/ioc.png title=Spring width=498 height=296></p><h1 id=配置元数据>配置元数据</h1><p>如上图所示，Spring Ioc 容器接收到一种格式的配置元数据。这个配置元数据代表了，作为一个应用开发者你告诉 Spring 容器在应用程序中，如何实例化、配置和组装对象。</p></div><div class=post-footer><a href=/posts/spring_framework/core/the_ioc_container/container_overview/></a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/spring/>Spring</a></div></div></article><article class="single summary" itemscope itemtype=http://schema.org/Article><h1 class=single-title itemprop="name headline"><a href=/posts/spring_framework/directory/>[译] SpringFramework 文档</a></h1><div class=post-meta><span class=post-author><a href=/ title=Author rel=author class=author><i class="fas fa-user-circle fa-fw" aria-hidden=true></i>anriclee</a></span>&nbsp;<span class=post-publish></span></div><div class=content><ul><li><p><a href=Overview rel>概述</a> 历史，设计哲学，反馈，开始</p></li><li><p><a href rel>核心</a> IoC容器，事件，资源，i18n，验证，数据绑定，类型转换，SpEL，AOP，AOT</p></li><li><p><a href rel>测试</a> 对象 Mock，测试上下文框架，Spring MVC 测试，Web 测试客户端</p></li><li><p><a href rel>数据接入</a> 事务，DAO 支持，JDBC，R2DBC，O/R 映射，XML 编码</p></li><li><p><a href rel>Web Servlet</a> SpringMVC,WebSocket,SockJS,STOMP 通信</p></li><li><p><a href rel>Web 响应式</a> Spring WebFlux, WebClient, WebSocket, RSocket.</p></li><li><p>[集成] REST 客户端, JMS, JCA, JMX, Email, 任务, 调度, 缓存, 可见性.</p></li><li><p><a href rel>语言</a> Kotlin, Groovy, Dynamic 语言.</p></li><li><p><a href rel>附录</a> Spring 属性</p></li></ul></div><div class=post-footer><a href=/posts/spring_framework/directory/></a><div class=post-tags><i class="fas fa-tags fa-fw" aria-hidden=true></i>&nbsp;<a href=/tags/spring/>Spring</a></div></div></article><ul class=pagination><li class=page-item><span class=page-link><a href=/>1</a></span></li><li class=page-item><span class=page-link><a href=/page/2/>2</a></span></li><li class="page-item active"><span class=page-link><a href=/page/3/>3</a></span></li><li class=page-item><span class=page-link><a href=/page/4/>4</a></span></li><li class=page-item><span class=page-link><a href=/page/5/>5</a></span></li></ul></div></div></main><footer class=footer><div class=footer-container><div class=footer-line></div><div class=footer-line itemscope itemtype=http://schema.org/CreativeWork><i class="far fa-copyright fa-fw" aria-hidden=true></i><span itemprop=copyrightYear>2019 - 2025</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=/ target=_blank>anriclee</a></span>&nbsp;|&nbsp;<span class=license><a rel="license external nofollow noopener noreffer" href=https://creativecommons.org/licenses/by-nc/4.0/ target=_blank>CC BY-NC 4.0</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title><i class="fas fa-arrow-up fa-fw" aria-hidden=true></i></a></div><div id=fixed-buttons-hidden><a href=# id=view-comments class=fixed-button title><i class="fas fa-comment fa-fw" aria-hidden=true></i></a></div><script src=https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js></script><script src=https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js></script><script src=https://cdn.jsdelivr.net/npm/sharer.js@0.5.2/sharer.min.js></script><script src=https://cdn.jsdelivr.net/npm/typeit@8.6.0/dist/index.umd.js></script><script>window.config={data:{"id-1":"ReadTinyWords","id-2":"ReadTinyWords","id-3":"This is my cool site"},typeit:{cursorChar:"|",cursorSpeed:1e3,data:{"id-1":["id-1"],"id-2":["id-2"],"id-3":["id-3"]},duration:-1,speed:100}}</script><script src=/js/theme.min.js></script></body></html>