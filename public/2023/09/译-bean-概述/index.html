<!DOCTYPE html>
<html lang="en-US">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <meta http-equiv="X-Clacks-Overhead" content="GNU Terry Pratchett" />
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
<link rel="shortcut icon" href="http://localhost:1313/images/favicon.png" />
<title>[è¯‘] Bean æ¦‚è¿° | ReadTinyWord</title>
<meta name="title" content="[è¯‘] Bean æ¦‚è¿°" />
<meta name="description" content="ä¸€ä¸ª Sring IoC å®¹å™¨å¯ä»¥æ“ä½œä¸€ä¸ªæˆ–è€…å¤šä¸ª beanã€‚è¿™äº› bean æ˜¯é€šè¿‡ä½ æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œä»¥ XML ä¸­çš„ &lt;bean/&gt; ï¼‰ã€‚
åœ¨å®¹å™¨å†…ï¼Œè¿™äº› bean çš„å®šä¹‰è¢«è¡¨ç¤ºæˆ BeanDefinition å¯¹è±¡çš„å½¢å¼ï¼ŒåŒ…å«äº†ä¸‹é¢çš„å…ƒæ•°æ®ï¼š

åŒ…å®šä¹‰çš„ç±»åï¼šé€šå¸¸æ˜¯å®šä¹‰çš„ bean çš„çœŸæ­£å®ç°ç±»
bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œè¡¨æ˜äº† bean åœ¨ container ä¸­çš„è¡Œä¸ºï¼ˆscopeï¼Œç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ç­‰ï¼‰ã€‚
å¯¹å…¶ä»–éœ€è¦çš„ bean çš„å¼•ç”¨ã€‚è¿™äº›å¼•ç”¨ä¹Ÿè¢«ç§°ä½œåä½œå™¨å’Œä¾èµ–ã€‚
åœ¨ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å…¶ä»–é…ç½®è®¾ç½® - ä¾‹å¦‚ï¼Œæ± çš„æ•°é‡é™åˆ¶æˆ–è€…ä¸€ä¸ªæ“ä½œè¿æ¥æ±  bean ä¸­çš„è¿æ¥æ•°é‡

è¿™äº›å…ƒæ•°æ®è½¬æ¢ä¸ºæ„æˆè¿™äº› bean å®šä¹‰çš„ä¸€ç³»åˆ—å±æ€§ã€‚ä¸‹è¡¨è¡¨ç¤ºäº†è¿™äº›å±æ€§å€¼ï¼š

  
      
          å±æ€§
          å«ä¹‰
      
  
  
      
          Class
          æ­£åœ¨å®ä¾‹åŒ–çš„bean
      
      
          Name
          beançš„åå­—
      
      
          Scope
          Beançš„Scope
      
      
          æ„é€ å‡½æ•°å‚æ•°
          ä¾èµ–æ³¨å…¥
      
      
          è‡ªåŠ¨è£…é…æ¨¡å¼
          è£…é…çš„åä½œå¯¹è±¡
      
      
          æ‡’åŠ è½½æ¨¡å¼
          æ‡’åŠ è½½ Bean
      
      
          åˆå§‹åŒ–æ–¹æ³•
          åˆå§‹åŒ–å›è°ƒ
      
      
          ææ„æ–¹æ³•
          ææ„å›è°ƒ
      
  

é™¤äº†åŒ…å«æ€ä¹ˆåˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ bean çš„ä¿¡æ¯ä¹‹å¤–ï¼Œ ApplicationContext çš„å®ç°åŒæ ·å…è®¸åœ¨å®¹å™¨å¤–é¢å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡æ³¨å†Œåˆ°å…¶ä¸­ï¼ˆç”¨æˆ·åˆ›å»ºï¼‰ã€‚è¿™æ˜¯é€šè¿‡ getBeanFactory æ–¹æ³•è·å–åˆ° ApplicationContext çš„ BeanFactoryï¼Œå¾—åˆ° DefaultListableBeanFactory å®ç°æ¥åšåˆ°çš„ã€‚DefaultListableBeanFactory æ”¯æŒé€šè¿‡è°ƒç”¨ registerSingleton(..)  å’Œ registerBeanDefinition(..) æ–¹æ³•æ¥å®ç°è¿™æ ·çš„æ³¨å†Œã€‚ç„¶è€Œï¼Œå…¸å‹çš„åº”ç”¨ç¨‹åºä»…ä»…ä½¿ç”¨å¸¸è§„çš„ bean å®šä¹‰å…ƒæ•°æ®ã€‚" />
<meta name="keywords" content="Spring," />

<link rel="canonical" href="http://localhost:1313/2023/09/%E8%AF%91-bean-%E6%A6%82%E8%BF%B0/">


<meta property="og:url" content="http://localhost:1313/2023/09/%E8%AF%91-bean-%E6%A6%82%E8%BF%B0/">
  <meta property="og:site_name" content="ReadTinyWord">
  <meta property="og:title" content="[è¯‘] Bean æ¦‚è¿°">
  <meta property="og:description" content="ä¸€ä¸ª Sring IoC å®¹å™¨å¯ä»¥æ“ä½œä¸€ä¸ªæˆ–è€…å¤šä¸ª beanã€‚è¿™äº› bean æ˜¯é€šè¿‡ä½ æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œä»¥ XML ä¸­çš„ &lt;bean/&gt; ï¼‰ã€‚
åœ¨å®¹å™¨å†…ï¼Œè¿™äº› bean çš„å®šä¹‰è¢«è¡¨ç¤ºæˆ BeanDefinition å¯¹è±¡çš„å½¢å¼ï¼ŒåŒ…å«äº†ä¸‹é¢çš„å…ƒæ•°æ®ï¼š
åŒ…å®šä¹‰çš„ç±»åï¼šé€šå¸¸æ˜¯å®šä¹‰çš„ bean çš„çœŸæ­£å®ç°ç±» bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œè¡¨æ˜äº† bean åœ¨ container ä¸­çš„è¡Œä¸ºï¼ˆscopeï¼Œç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ç­‰ï¼‰ã€‚ å¯¹å…¶ä»–éœ€è¦çš„ bean çš„å¼•ç”¨ã€‚è¿™äº›å¼•ç”¨ä¹Ÿè¢«ç§°ä½œåä½œå™¨å’Œä¾èµ–ã€‚ åœ¨ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å…¶ä»–é…ç½®è®¾ç½® - ä¾‹å¦‚ï¼Œæ± çš„æ•°é‡é™åˆ¶æˆ–è€…ä¸€ä¸ªæ“ä½œè¿æ¥æ±  bean ä¸­çš„è¿æ¥æ•°é‡ è¿™äº›å…ƒæ•°æ®è½¬æ¢ä¸ºæ„æˆè¿™äº› bean å®šä¹‰çš„ä¸€ç³»åˆ—å±æ€§ã€‚ä¸‹è¡¨è¡¨ç¤ºäº†è¿™äº›å±æ€§å€¼ï¼š
å±æ€§ å«ä¹‰ Class æ­£åœ¨å®ä¾‹åŒ–çš„bean Name beançš„åå­— Scope Beançš„Scope æ„é€ å‡½æ•°å‚æ•° ä¾èµ–æ³¨å…¥ è‡ªåŠ¨è£…é…æ¨¡å¼ è£…é…çš„åä½œå¯¹è±¡ æ‡’åŠ è½½æ¨¡å¼ æ‡’åŠ è½½ Bean åˆå§‹åŒ–æ–¹æ³• åˆå§‹åŒ–å›è°ƒ ææ„æ–¹æ³• ææ„å›è°ƒ é™¤äº†åŒ…å«æ€ä¹ˆåˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ bean çš„ä¿¡æ¯ä¹‹å¤–ï¼Œ ApplicationContext çš„å®ç°åŒæ ·å…è®¸åœ¨å®¹å™¨å¤–é¢å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡æ³¨å†Œåˆ°å…¶ä¸­ï¼ˆç”¨æˆ·åˆ›å»ºï¼‰ã€‚è¿™æ˜¯é€šè¿‡ getBeanFactory æ–¹æ³•è·å–åˆ° ApplicationContext çš„ BeanFactoryï¼Œå¾—åˆ° DefaultListableBeanFactory å®ç°æ¥åšåˆ°çš„ã€‚DefaultListableBeanFactory æ”¯æŒé€šè¿‡è°ƒç”¨ registerSingleton(..) å’Œ registerBeanDefinition(..) æ–¹æ³•æ¥å®ç°è¿™æ ·çš„æ³¨å†Œã€‚ç„¶è€Œï¼Œå…¸å‹çš„åº”ç”¨ç¨‹åºä»…ä»…ä½¿ç”¨å¸¸è§„çš„ bean å®šä¹‰å…ƒæ•°æ®ã€‚">
  <meta property="og:locale" content="en_US">
  <meta property="og:type" content="article">
    <meta property="article:section" content="posts">
    <meta property="article:published_time" content="2023-09-02T23:12:31+08:00">
    <meta property="article:modified_time" content="2023-09-02T23:12:31+08:00">
    <meta property="article:tag" content="Spring">
    <meta property="og:image" content="http://localhost:1313/images/share.png">




  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="http://localhost:1313/images/share.png">
  <meta name="twitter:title" content="[è¯‘] Bean æ¦‚è¿°">
  <meta name="twitter:description" content="ä¸€ä¸ª Sring IoC å®¹å™¨å¯ä»¥æ“ä½œä¸€ä¸ªæˆ–è€…å¤šä¸ª beanã€‚è¿™äº› bean æ˜¯é€šè¿‡ä½ æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œä»¥ XML ä¸­çš„ &lt;bean/&gt; ï¼‰ã€‚
åœ¨å®¹å™¨å†…ï¼Œè¿™äº› bean çš„å®šä¹‰è¢«è¡¨ç¤ºæˆ BeanDefinition å¯¹è±¡çš„å½¢å¼ï¼ŒåŒ…å«äº†ä¸‹é¢çš„å…ƒæ•°æ®ï¼š
åŒ…å®šä¹‰çš„ç±»åï¼šé€šå¸¸æ˜¯å®šä¹‰çš„ bean çš„çœŸæ­£å®ç°ç±» bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œè¡¨æ˜äº† bean åœ¨ container ä¸­çš„è¡Œä¸ºï¼ˆscopeï¼Œç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ç­‰ï¼‰ã€‚ å¯¹å…¶ä»–éœ€è¦çš„ bean çš„å¼•ç”¨ã€‚è¿™äº›å¼•ç”¨ä¹Ÿè¢«ç§°ä½œåä½œå™¨å’Œä¾èµ–ã€‚ åœ¨ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å…¶ä»–é…ç½®è®¾ç½® - ä¾‹å¦‚ï¼Œæ± çš„æ•°é‡é™åˆ¶æˆ–è€…ä¸€ä¸ªæ“ä½œè¿æ¥æ±  bean ä¸­çš„è¿æ¥æ•°é‡ è¿™äº›å…ƒæ•°æ®è½¬æ¢ä¸ºæ„æˆè¿™äº› bean å®šä¹‰çš„ä¸€ç³»åˆ—å±æ€§ã€‚ä¸‹è¡¨è¡¨ç¤ºäº†è¿™äº›å±æ€§å€¼ï¼š
å±æ€§ å«ä¹‰ Class æ­£åœ¨å®ä¾‹åŒ–çš„bean Name beançš„åå­— Scope Beançš„Scope æ„é€ å‡½æ•°å‚æ•° ä¾èµ–æ³¨å…¥ è‡ªåŠ¨è£…é…æ¨¡å¼ è£…é…çš„åä½œå¯¹è±¡ æ‡’åŠ è½½æ¨¡å¼ æ‡’åŠ è½½ Bean åˆå§‹åŒ–æ–¹æ³• åˆå§‹åŒ–å›è°ƒ ææ„æ–¹æ³• ææ„å›è°ƒ é™¤äº†åŒ…å«æ€ä¹ˆåˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ bean çš„ä¿¡æ¯ä¹‹å¤–ï¼Œ ApplicationContext çš„å®ç°åŒæ ·å…è®¸åœ¨å®¹å™¨å¤–é¢å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡æ³¨å†Œåˆ°å…¶ä¸­ï¼ˆç”¨æˆ·åˆ›å»ºï¼‰ã€‚è¿™æ˜¯é€šè¿‡ getBeanFactory æ–¹æ³•è·å–åˆ° ApplicationContext çš„ BeanFactoryï¼Œå¾—åˆ° DefaultListableBeanFactory å®ç°æ¥åšåˆ°çš„ã€‚DefaultListableBeanFactory æ”¯æŒé€šè¿‡è°ƒç”¨ registerSingleton(..) å’Œ registerBeanDefinition(..) æ–¹æ³•æ¥å®ç°è¿™æ ·çš„æ³¨å†Œã€‚ç„¶è€Œï¼Œå…¸å‹çš„åº”ç”¨ç¨‹åºä»…ä»…ä½¿ç”¨å¸¸è§„çš„ bean å®šä¹‰å…ƒæ•°æ®ã€‚">




  <meta itemprop="name" content="[è¯‘] Bean æ¦‚è¿°">
  <meta itemprop="description" content="ä¸€ä¸ª Sring IoC å®¹å™¨å¯ä»¥æ“ä½œä¸€ä¸ªæˆ–è€…å¤šä¸ª beanã€‚è¿™äº› bean æ˜¯é€šè¿‡ä½ æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œä»¥ XML ä¸­çš„ &lt;bean/&gt; ï¼‰ã€‚
åœ¨å®¹å™¨å†…ï¼Œè¿™äº› bean çš„å®šä¹‰è¢«è¡¨ç¤ºæˆ BeanDefinition å¯¹è±¡çš„å½¢å¼ï¼ŒåŒ…å«äº†ä¸‹é¢çš„å…ƒæ•°æ®ï¼š
åŒ…å®šä¹‰çš„ç±»åï¼šé€šå¸¸æ˜¯å®šä¹‰çš„ bean çš„çœŸæ­£å®ç°ç±» bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œè¡¨æ˜äº† bean åœ¨ container ä¸­çš„è¡Œä¸ºï¼ˆscopeï¼Œç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ç­‰ï¼‰ã€‚ å¯¹å…¶ä»–éœ€è¦çš„ bean çš„å¼•ç”¨ã€‚è¿™äº›å¼•ç”¨ä¹Ÿè¢«ç§°ä½œåä½œå™¨å’Œä¾èµ–ã€‚ åœ¨ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å…¶ä»–é…ç½®è®¾ç½® - ä¾‹å¦‚ï¼Œæ± çš„æ•°é‡é™åˆ¶æˆ–è€…ä¸€ä¸ªæ“ä½œè¿æ¥æ±  bean ä¸­çš„è¿æ¥æ•°é‡ è¿™äº›å…ƒæ•°æ®è½¬æ¢ä¸ºæ„æˆè¿™äº› bean å®šä¹‰çš„ä¸€ç³»åˆ—å±æ€§ã€‚ä¸‹è¡¨è¡¨ç¤ºäº†è¿™äº›å±æ€§å€¼ï¼š
å±æ€§ å«ä¹‰ Class æ­£åœ¨å®ä¾‹åŒ–çš„bean Name beançš„åå­— Scope Beançš„Scope æ„é€ å‡½æ•°å‚æ•° ä¾èµ–æ³¨å…¥ è‡ªåŠ¨è£…é…æ¨¡å¼ è£…é…çš„åä½œå¯¹è±¡ æ‡’åŠ è½½æ¨¡å¼ æ‡’åŠ è½½ Bean åˆå§‹åŒ–æ–¹æ³• åˆå§‹åŒ–å›è°ƒ ææ„æ–¹æ³• ææ„å›è°ƒ é™¤äº†åŒ…å«æ€ä¹ˆåˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ bean çš„ä¿¡æ¯ä¹‹å¤–ï¼Œ ApplicationContext çš„å®ç°åŒæ ·å…è®¸åœ¨å®¹å™¨å¤–é¢å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡æ³¨å†Œåˆ°å…¶ä¸­ï¼ˆç”¨æˆ·åˆ›å»ºï¼‰ã€‚è¿™æ˜¯é€šè¿‡ getBeanFactory æ–¹æ³•è·å–åˆ° ApplicationContext çš„ BeanFactoryï¼Œå¾—åˆ° DefaultListableBeanFactory å®ç°æ¥åšåˆ°çš„ã€‚DefaultListableBeanFactory æ”¯æŒé€šè¿‡è°ƒç”¨ registerSingleton(..) å’Œ registerBeanDefinition(..) æ–¹æ³•æ¥å®ç°è¿™æ ·çš„æ³¨å†Œã€‚ç„¶è€Œï¼Œå…¸å‹çš„åº”ç”¨ç¨‹åºä»…ä»…ä½¿ç”¨å¸¸è§„çš„ bean å®šä¹‰å…ƒæ•°æ®ã€‚">
  <meta itemprop="datePublished" content="2023-09-02T23:12:31+08:00">
  <meta itemprop="dateModified" content="2023-09-02T23:12:31+08:00">
  <meta itemprop="wordCount" content="559">
  <meta itemprop="image" content="http://localhost:1313/images/share.png">
  <meta itemprop="keywords" content="Spring">
<meta name="referrer" content="no-referrer-when-downgrade" />

  <style>
   
  :root {
    --width-max: 720px;
    --font-primary: Verdana, sans-serif;
    --font-secondary: monospace;
    --font-size-primary: 1em;
    --font-size-secondary: 0.8em;
    --body-bg-color: #fcfcfc;
    --bold-text-color: #222;
    --body-text-color: #444;
    --link-color: #3273dc;
    --link-visited-color: #8b6fcb;
    --table-border-color: #f2f2f2;
    --table-th-bg-color: #f2f2f2;
    --img-border-color: #f2f2f2;
    --code-bg-color: #f2f2f2;
    --code-text-color: #222;
    --blockquote-border-color: #666;
    --blockquote-text-color: #666;
    --upvoted-color: #FA8072;
  }

  @media (prefers-color-scheme: dark) {
     
    :root {
      --body-bg-color: #1c1c1c;
      --bold-text-color: #eee;
      --body-text-color: #ddd;
      --link-color: #8cc2dd;
      --link-visited-color: #c3b1ee;
      --table-border-color: #999;
      --table-th-bg-color: #999;
      --img-border-color: #999;
      --code-bg-color: #555;
      --code-text-color: #ddd;
      --blockquote-border-color: #ccc;
      --blockquote-text-color: #ccc;
    }
  }

  body {
    font-family: var(--font-primary);
    font-size: var(--font-size-primary);
    margin: auto;
    padding: 20px;
    max-width: var(--width-max);
    text-align: left;
    background-color: var(--body-bg-color);
    word-wrap: break-word;
    overflow-wrap: break-word;
    line-height: 1.5;
    color: var(--body-text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  strong,
  b {
    color: var(--bold-text-color);
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 16px 0;
  }

  a {
    color: var(--link-color);
    cursor: pointer;
    text-decoration: none;
  }

  a:hover {
    text-decoration: underline;
  }

  .title {
    text-decoration: none;
    border: 0;
  }

  .title:hover {
    text-decoration: none;
  }

  .title span {
    font-weight: 400;
  }

  nav a {
    margin-right: 8px;
  }

  textarea {
    width: 100%;
    font-size: 16px;
  }

  input {
    font-size: 14px;
  }

  content {
    line-height: 1.6;
  }

  table {
    width: 100%;
    border-collapse: collapse;
    border: 1px solid var(--table-border-color);
    border-radius: 4px;
  }

  th,
  td {
    border: 1px solid var(--table-border-color);
    padding: 4px;
  }

  th {
    background-color: var(--table-th-bg-color);
  }

  hr {
    border: 0;
    border-top: 1px dashed;
  }

  img {
    max-width: 100%;
    display: block;
    margin-left: auto;
    margin-right: auto;
    border: 1px solid var(--img-border-color);
    border-radius: 4px;
    content-visibility: auto;
    loading: lazy;
  }

  img[src*="#minipic"] {
    max-width: 50%;
    margin-left: 0;
    margin-right: auto;
  }

  i {
    font-style: normal;
  }

  time {
    font-family: var(--font-secondary);
    font-size: 15px;
  }

  code {
    font-family: var(--font-secondary);
    background-color: var(--code-bg-color);
    color: var(--code-text-color);
    padding: 2px;
    border-radius: 4px;
  }

  pre code {
    display: block;
    padding: 16px;
    white-space: pre-wrap;
    overflow-x: auto;
  }

  div.highlight pre {
    border-radius: 4px;
  }

  div.highlight code {
    background-color: var(--code-bg-color);
    color: var(--code-text-color);
  }

  blockquote {
    border-left: 2px solid var(--blockquote-border-color);
    color: var(--blockquote-text-color);
    margin: 0;
    padding-left: 16px;
    font-style: normal;
  }

  blockquote p {
    margin: 0;
  }

  footer {
    padding: 25px 0;
    text-align: center;
    font-size: var(--font-size-secondary);
  }

  ul li:has(input) {
    list-style-type: none;
    margin-left: -25.5px;
  }

   
  ul.blog-posts {
    list-style-type: none;
    padding: unset;
  }

  ul.blog-posts li {
    display: flex;
  }

  ul.blog-posts li span {
    flex: 0 0 130px;
  }

  ul.blog-posts li span.grouped {
    flex: 0 0 80px;
  }

  ul.blog-posts li a:visited {
    color: var(--link-visited-color);
  }

   
  div.toc {
    position: fixed;
    top: 50%;
    left: calc((100vw + var(--width-max)) / 2);
    transform: translateY(-50%);
    width: calc((90vw - var(--width-max)) / 2);
    max-height: 80vh;
    overflow-y: auto;
    padding: 20px 8px;
    z-index: 99;

     
    &::-webkit-scrollbar {
        display: none;  
    }
    -ms-overflow-style: none;  
    scrollbar-width: none;  
  }

  div.toc ul {
    list-style-type: none;
    padding-left: 0;
  }

  div.toc ul li {
    margin: 8px 0;
  }

  div.toc ul li a {
    text-decoration: none;
    color: var(--blockquote-text-color);
  }

  div.toc ul li a:hover {
    color: var(--link-color);
  }

   
  button.upvote-btn {
    margin: 0;
    padding: 0;
    border: none;
    background: none;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    align-items: center;
    color: var(--body-text-color);
  }

  button.upvoted {
    color: var(--upvoted-color);
  }

  span.upvote-count {
    margin-top: -4px;
    font-size: smaller;
  }

  @media (max-width: 500px) {
    img[src*="#minipic"] {
      max-width: 100%;
      margin-left: auto;
      margin-right: auto;
    }

    div.toc {
      display: none;
    }
  }
</style>

</head>

<body>
  <header><a href="/" class="title">
  <h1>ReadTinyWord</h1>
</a>
<nav><a href="/">Home</a>


</nav>
</header>
  <main>
 

<content> <p>ä¸€ä¸ª Sring IoC å®¹å™¨å¯ä»¥æ“ä½œä¸€ä¸ªæˆ–è€…å¤šä¸ª beanã€‚è¿™äº› bean æ˜¯é€šè¿‡ä½ æä¾›ç»™å®¹å™¨çš„é…ç½®å…ƒæ•°æ®ç”Ÿæˆçš„ï¼ˆä¾‹å¦‚ï¼Œä»¥ XML ä¸­çš„ <code>&lt;bean/&gt;</code> ï¼‰ã€‚</p>
<p>åœ¨å®¹å™¨å†…ï¼Œè¿™äº› bean çš„å®šä¹‰è¢«è¡¨ç¤ºæˆ <code>BeanDefinition</code> å¯¹è±¡çš„å½¢å¼ï¼ŒåŒ…å«äº†ä¸‹é¢çš„å…ƒæ•°æ®ï¼š</p>
<ul>
<li>åŒ…å®šä¹‰çš„ç±»åï¼šé€šå¸¸æ˜¯å®šä¹‰çš„ bean çš„çœŸæ­£å®ç°ç±»</li>
<li>bean è¡Œä¸ºé…ç½®å…ƒç´ ï¼Œè¡¨æ˜äº† bean åœ¨ container ä¸­çš„è¡Œä¸ºï¼ˆscopeï¼Œç”Ÿå‘½å‘¨æœŸå›è°ƒç­‰ç­‰ï¼‰ã€‚</li>
<li>å¯¹å…¶ä»–éœ€è¦çš„ bean çš„å¼•ç”¨ã€‚è¿™äº›å¼•ç”¨ä¹Ÿè¢«ç§°ä½œåä½œå™¨å’Œä¾èµ–ã€‚</li>
<li>åœ¨ä¸€ä¸ªæ–°åˆ›å»ºçš„å¯¹è±¡ä¸­çš„å…¶ä»–é…ç½®è®¾ç½® - ä¾‹å¦‚ï¼Œæ± çš„æ•°é‡é™åˆ¶æˆ–è€…ä¸€ä¸ªæ“ä½œè¿æ¥æ±  bean ä¸­çš„è¿æ¥æ•°é‡</li>
</ul>
<p>è¿™äº›å…ƒæ•°æ®è½¬æ¢ä¸ºæ„æˆè¿™äº› bean å®šä¹‰çš„ä¸€ç³»åˆ—å±æ€§ã€‚ä¸‹è¡¨è¡¨ç¤ºäº†è¿™äº›å±æ€§å€¼ï¼š</p>
<table>
  <thead>
      <tr>
          <th>å±æ€§</th>
          <th>å«ä¹‰</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td>Class</td>
          <td>æ­£åœ¨å®ä¾‹åŒ–çš„bean</td>
      </tr>
      <tr>
          <td>Name</td>
          <td>beançš„åå­—</td>
      </tr>
      <tr>
          <td>Scope</td>
          <td>Beançš„Scope</td>
      </tr>
      <tr>
          <td>æ„é€ å‡½æ•°å‚æ•°</td>
          <td>ä¾èµ–æ³¨å…¥</td>
      </tr>
      <tr>
          <td>è‡ªåŠ¨è£…é…æ¨¡å¼</td>
          <td>è£…é…çš„åä½œå¯¹è±¡</td>
      </tr>
      <tr>
          <td>æ‡’åŠ è½½æ¨¡å¼</td>
          <td>æ‡’åŠ è½½ Bean</td>
      </tr>
      <tr>
          <td>åˆå§‹åŒ–æ–¹æ³•</td>
          <td>åˆå§‹åŒ–å›è°ƒ</td>
      </tr>
      <tr>
          <td>ææ„æ–¹æ³•</td>
          <td>ææ„å›è°ƒ</td>
      </tr>
  </tbody>
</table>
<p>é™¤äº†åŒ…å«æ€ä¹ˆåˆ›å»ºä¸€ä¸ªç‰¹å®šçš„ bean çš„ä¿¡æ¯ä¹‹å¤–ï¼Œ <code>ApplicationContext</code> çš„å®ç°åŒæ ·å…è®¸åœ¨å®¹å™¨å¤–é¢å·²ç»åˆ›å»ºå¥½çš„å¯¹è±¡æ³¨å†Œåˆ°å…¶ä¸­ï¼ˆç”¨æˆ·åˆ›å»ºï¼‰ã€‚è¿™æ˜¯é€šè¿‡ <code>getBeanFactory</code> æ–¹æ³•è·å–åˆ° <code>ApplicationContext</code> çš„ <code>BeanFactory</code>ï¼Œå¾—åˆ° <code>DefaultListableBeanFactory</code> å®ç°æ¥åšåˆ°çš„ã€‚<code>DefaultListableBeanFactory</code> æ”¯æŒé€šè¿‡è°ƒç”¨ <code>registerSingleton(..)</code>  å’Œ <code>registerBeanDefinition(..)</code> æ–¹æ³•æ¥å®ç°è¿™æ ·çš„æ³¨å†Œã€‚ç„¶è€Œï¼Œå…¸å‹çš„åº”ç”¨ç¨‹åºä»…ä»…ä½¿ç”¨å¸¸è§„çš„ bean å®šä¹‰å…ƒæ•°æ®ã€‚</p>
<p>Noteï¼šbean çš„å…ƒæ•°æ®å’Œæ‰‹å·¥æä¾›çš„å•ä¾‹å¯¹è±¡ï¼Œéœ€è¦è¢«å°½å¯èƒ½æ—©åœ°æ³¨å†Œï¼Œä»¥ä¾¿å®¹å™¨åœ¨è‡ªåŠ¨è£…é…æœŸé—´å’Œå…¶ä»–å†…çœçš„æ­¥éª¤ä¸­ï¼Œå¯ä»¥å¯¹ä»–ä»¬åšå‡ºåˆç†çš„æ¨æ–­ã€‚å°½ç®¡è¦†ç›–ç°æœ‰çš„å…ƒæ•°æ®å’Œå•ä¾‹å¯¹è±¡åœ¨æŸç§ç¨‹åº¦ä¸Šå¯ä»¥æ”¯æŒï¼Œä½†æ˜¯å®˜æ–¹å¹¶ä¸æ”¯æŒåœ¨è¿è¡Œæ—¶æ³¨å†Œæ–°çš„ beanï¼Œè¿™å¾ˆå¯èƒ½ä¼šå¯¼è‡´å¹¶å‘è·å–çš„å¼‚å¸¸ï¼Œbean å®¹å™¨ä¸­ä¸ä¸€è‡´çš„çŠ¶æ€ï¼Œæˆ–è€…ä¸¤è€…éƒ½æœ‰ã€‚</p>
<h1 id="bean-å‘½å">Bean å‘½å</h1>
<p>æ¯ä¸ª bean éƒ½æœ‰è‡³å°‘ä¸€ä¸ªæ ‡è¯†ã€‚è¿™äº›æ ‡è¯†å¿…é¡»åœ¨æŒæœ‰ bean çš„å®¹å™¨ä¸­ä¿æŒå”¯ä¸€ã€‚ä¸€ä¸ª bean é€šå¸¸ä»…æœ‰ä¸€ä¸ªæ ‡è¯†ã€‚ç„¶è€Œï¼Œå¦‚æœéœ€è¦ä¸æ­¢ä¸€ä¸ªï¼Œé¢å¤–çš„å¯ä»¥è¢«è®¤ä¸ºæ˜¯åˆ«åã€‚</p>
<p>åœ¨åŸºäº XML çš„é…ç½®å…ƒæ•°æ®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ id å±æ€§ï¼Œname å±æ€§æˆ–è€…ä¸¤è€…ä¸€èµ·ç¡®å®šå”¯ä¸€çš„ beanã€‚id å±æ€§è®©ä½ ç¡®å®šå”¯ä¸€çš„ä¸€ä¸ª idã€‚æŒ‰ç…§ä¹ æƒ¯ï¼Œè¿™äº›åå­—éƒ½ç”±å­—æ¯æˆ–è€…æ•°å­—ç»„æˆï¼Œä½†æ˜¯ä»–ä»¬ä¹Ÿå¯ä»¥åŒ…å«ç‰¹æ®Šå­—ç¬¦ã€‚å¦‚æœä½ æƒ³å¯¹è¿™äº› bean å¼•å…¥å…¶ä»–çš„åˆ«åï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>,</code> <code>;</code> <code>ç©ºæ ¼</code> ä½œä¸ºåˆ†éš”ç¬¦çš„ name å±æ€§ã€‚å°½ç®¡ idå±æ€§å·²ç»è¢«å®šä¹‰ä¸º xsd:string ç±»å‹ï¼Œå®¹å™¨ä¸­è¿˜æ˜¯bean çš„ id å”¯ä¸€æ€§æ˜¯ç”±å®¹å™¨å¼ºåˆ¶æ‰§è¡Œçš„ï¼Œè€Œä¸æ˜¯é€šè¿‡ XML è§£æå™¨ã€‚</p>
<p>å¯¹ä¸€ä¸ª bean æä¾› name æˆ–è€… id å±æ€§å¹¶ä¸æ˜¯å¿…é¡»çš„ã€‚å¦‚æœä½ ä¸å¸Œæœ›æ˜¾å¼åœ°æä¾› name æˆ–è€… idï¼Œå®¹å™¨ä¼šå¯¹è¿™ä¸ª bean ç”Ÿæˆä¸€ä¸ªå”¯ä¸€çš„åå­—ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ æƒ³é€šè¿‡åå­—å¼•ç”¨è¿™ä¸ª beanï¼Œé€šè¿‡ ref å…ƒç´ æˆ–è€… Service Locator çš„æ¨¡å¼æ¥æ‰¾ï¼Œä½ å¿…é¡»æä¾› name å±æ€§ã€‚åœ¨ä½¿ç”¨å†…éƒ¨çš„ bean æˆ–è€…è‡ªåŠ¨è£…é…æ—¶ï¼Œå¯ä»¥ä¸æä¾› name å±æ€§ã€‚</p>
<blockquote>
<p>Bean åå­—æƒ¯ä¾‹</p>
<p>å½“ç»™ä¸€ä¸ª bean å‘½åæ—¶ï¼Œæƒ¯ä¾‹æ˜¯ä½¿ç”¨æ ‡å‡† Java å®ä¾‹ä¸­å¯¹æˆå‘˜å˜é‡åã€‚è¿™ä¹Ÿå°±æ˜¯ bean çš„åå­—å¿…é¡»ä»¥ä¸€ä¸ªå°å†™å­—æ¯å¼€å§‹ï¼Œå¹¶ä¸”æ˜¯é©¼å³°çš„å½¢å¼ã€‚è¿™æ ·çš„ä¾‹å­å¦‚ï¼š<code>accountManager</code>ï¼Œ<code>accountService</code>ï¼Œ<code>userDao</code>ï¼Œ<code>loginController</code> ç­‰ç­‰ã€‚</p>
<p>å¯¹ bean å‘½åçš„ä¸€è‡´æ€§ï¼Œå¯ä»¥ä½¿ä½ çš„é…ç½®æ›´æ˜“è¯»ä¸”æ˜“æ‡‚ã€‚è€Œä¸”ï¼Œå¦‚æœä½ ä½¿ç”¨ Spring çš„ AOP æœºåˆ¶ï¼Œå½“é€šè¿‡åå­—æ¥å¯¹ä¸€ç³»åˆ— bean æä¾›ä¸€ä¸ª bean æ˜¯éå¸¸æœ‰ç”¨çš„ã€‚</p></blockquote>
<p>Noteï¼šå½“åœ¨ classpath ä¸‹è¿›è¡Œ component æ‰«ææ—¶ï¼ŒSpring ä¼šéµå¾ªå‰é¢æè¿°çš„è§„åˆ™å¯¹æ²¡æœ‰å‘½åçš„ component ç”Ÿæˆåå­—ï¼šå®è´¨ä¸Šï¼Œå°±æ˜¯é‡‡ç”¨ä¸€ä¸ªç®€å•çš„ç±»åï¼Œå¹¶ä¸”æŠŠé¦–å­—æ¯å˜ä¸ºå°å†™ã€‚ç„¶è€Œï¼Œåœ¨ä¸æ­¢åŒ…å«ä¸€ä¸ªå­—æ¯å¹¶ä¸”é¦–å­—æ¯å’Œç¬¬äºŒä¸ªå­—æ¯éƒ½å¤§å†™çš„ç‰¹æ®Šæƒ…å½¢ä¸‹ï¼ŒåŸæ¥çš„å°±ä¼šè¢«ç»§ç»­ä¿ç•™ã€‚è¿™äº›è§„åˆ™ä¸ <code>java.beans.Introspector.decapitalize</code> ä¸­å®šä¹‰çš„ç›¸åŒï¼ˆSpring æŠŠä»–ä»¬ç”¨åœ¨è¿™é‡Œäº†ï¼‰ã€‚</p>
<h1 id="å¯¹åœ¨-beandefinition-ä¹‹å¤–çš„-bean-èµ·åˆ«å">å¯¹åœ¨ BeanDefinition ä¹‹å¤–çš„ bean èµ·åˆ«å</h1>
<p>åœ¨ bean å®šä¹‰è‡ªèº«ä¸­ä¸ªï¼Œä½ å¯ä»¥é€šè¿‡ä½¿ç”¨ id å±æ€§å’Œåœ¨ name å±æ€§ä¸­å®šä¹‰ä»»æ„æ•°é‡çš„åå­—å¯¹ bean æä¾›ä¸æ­¢ä¸€ä¸ªåå­—ã€‚è¿™äº›åå­—ç›¸å½“äº bean çš„åˆ«åï¼Œåœ¨æŸäº›æƒ…å†µä¸‹æ¯”è¾ƒæœ‰ç”¨ï¼Œä¾‹å¦‚ï¼Œè®©åº”ç”¨ç¨‹åºä¸­çš„æ¯ä¸€ä¸ª component éƒ½é€šè¿‡ä½¿ç”¨ç›¸å¯¹äºè¿™ä¸ª component ä¸­çš„ç‰¹å®šçš„ bean åç§°æ¥å¼•ç”¨ä¸€ä¸ªç›¸åŒçš„ä¾èµ–ã€‚</p>
<p>ä½†æ˜¯ï¼Œåœ¨ bean å®é™…ä¸Šè¢«å®šä¹‰çš„åœ°æ–¹é‡Œè®¾ç½®æ‰€æœ‰çš„åˆ«åï¼Œå¹¶ä¸æ€»æ˜¯åˆé€‚çš„ã€‚å½“è¿™ä¸ª bean åœ¨åˆ«çš„åœ°æ–¹ä¹Ÿå®šä¹‰çš„æ—¶å€™ï¼Œæœ‰æ—¶å€™éœ€è¦å¼•å…¥è¿™ä¸ª bean çš„åˆ«åã€‚è¿™åœ¨ä¸€ä¸ªé…ç½®æ–‡ä»¶è·¨è¶Šå¤šä¸ªå­ç³»ç»Ÿçš„å¤§ç³»ç»Ÿæ—¶ä¸”æ¯ä¸ªå­ç³»ç»Ÿéƒ½æœ‰è‡ªå·±çš„ä¸€å¥— bean å®šä¹‰æ—¶ï¼Œæ˜¯éå¸¸å¸¸è§çš„ã€‚åœ¨åŸºäº XML çš„é…ç½®å…ƒæ•°æ®ä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨ <code>&lt;alias/&gt;</code> å…ƒç´ æ¥å®Œæˆè¿™é¡¹ä»»åŠ¡ã€‚ä¸‹é¢çš„ä¾‹å­è¡¨ç¤ºäº†æ€ä¹ˆä½¿ç”¨ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#f92672">&lt;alias</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;fromName&#34;</span> <span style="color:#a6e22e">alias=</span><span style="color:#e6db74">&#34;toName&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸€ä¸ªå« <code>fromName</code> çš„ beanï¼Œåœ¨ä½¿ç”¨è¿™ä¸ªåˆ«åå®šä¹‰åï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <code>toName</code> æ¥å¼•ç”¨åˆ°ã€‚</p>
<p>ä¾‹å¦‚ï¼Œå¯¹å­ç³»ç»Ÿ A ä¸­çš„é…ç½®å…ƒæ•°æ®ï¼Œå¯ä»¥é€šè¿‡ <code>subsystemA-dataSource</code> å¼•ç”¨åˆ° DataSrouceã€‚åœ¨å­ç³»ç»Ÿ B ä¸­ä¹Ÿå¯ä»¥é€šè¿‡ä½¿ç”¨ <code>subsystemB-dataSource</code> å¼•ç”¨åˆ°ã€‚å½“æ„æˆä¸€ä¸ªåŒæ—¶ä½¿ç”¨åˆ°è¿™ä¸¤ä¸ªå­ç³»ç»Ÿçš„ä¸»åº”ç”¨ç¨‹åºæ—¶ï¼Œä¸»åº”ç”¨ç¨‹åºå¯ä»¥é€šè¿‡ <code>myApp-dataSource</code> åå­—æ¥å¼•ç”¨åˆ° DataSourceã€‚ä½ å¯ä»¥åœ¨é…ç½®å…ƒæ•°æ®ä¸­å¢åŠ ä¸‹é¢çš„åˆ«åå®šä¹‰ï¼Œæ¥ä½¿æ‰€æœ‰ä¸‰ä¸ªåå­—å¼•ç”¨åˆ°ç›¸åŒçš„å¯¹è±¡ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#f92672">&lt;alias</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;myApp-dataSource&#34;</span> <span style="color:#a6e22e">alias=</span><span style="color:#e6db74">&#34;subsystemA-dataSource&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;alias</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;myApp-dataSource&#34;</span> <span style="color:#a6e22e">alias=</span><span style="color:#e6db74">&#34;subsystemB-dataSource&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>ç°åœ¨æ¯ä¸€ä¸ª component å’Œä¸»åº”ç”¨éƒ½å¯ä»¥é€šè¿‡ä¸€ä¸ªå”¯ä¸€ä¸”ä¸ä¸å…¶ä»– bean å®šä¹‰å†²çªçš„åå­—å¼•ç”¨åˆ°dataSourceã€‚ï¼Œä½†ä»–ä»¬éƒ½æŒ‡å‘åŒä¸€ä¸ª beanã€‚</p>
<blockquote>
<p>Java é…ç½®</p>
<p>å¦‚æœä½ ä½¿ç”¨ Java é…ç½®ï¼Œ@Bean æ³¨è§£åŒæ ·ä¹Ÿå¯ä»¥ç”¨æ¥æä¾›åˆ«åã€‚</p></blockquote>
<h1 id="bean-çš„å®ä¾‹åŒ–">Bean çš„å®ä¾‹åŒ–</h1>
<p>ä¸€ä¸ª bean å®šä¹‰æœ¬è´¨ä¸Šå°±æ˜¯åˆ›å»ºä¸€ä¸ªæˆ–è€…å¯¹ä¸ªå¯¹è±¡çš„èœè°±ã€‚å½“å®¹å™¨è¢«ç´¢è¦ bean çš„æ—¶å€™ï¼Œå®¹å™¨æŸ¥çœ‹è¿™ä¸ª bean çš„èœè°±ï¼Œä½¿ç”¨è¢« bean å®šä¹‰å°è£…å¥½çš„é…ç½®å…ƒæ•°æ®æ¥åˆ›å»ºä¸€ä¸ªçœŸæ­£çš„å¯¹è±¡ã€‚</p>
<p>å¦‚æœä½ ä½¿ç”¨ XML é…ç½®å…ƒæ•°æ®ï¼Œä½ å¯ä»¥åœ¨ <!-- raw HTML omitted --> å…ƒç´ çš„ class å±æ€§ä¸­ï¼ŒæŒ‡å®šè¦å®ä¾‹åŒ–å¯¹è±¡çš„ç±»å‹æˆ–è€…ï¼ˆç±»åï¼‰ã€‚è¿™ä¸ª class å±æ€§é€šå¸¸æ˜¯å¼ºåˆ¶çš„ï¼ˆé€šå¸¸æ˜¯ BeanDefinition å®ä¾‹ä¸­çš„ Class å±æ€§ï¼‰ã€‚ä½ å¯ä»¥ä½¿ç”¨ä¸‹é¢ä¸¤ç§æ–¹æ³•ä¹‹ä¸€æ¥ä½¿ç”¨ Class å±æ€§ï¼š</p>
<ul>
<li>
<p>é€šå¸¸ï¼Œåœ¨å®¹å™¨æœ¬èº«ç›´æ¥é€šè¿‡åå°„è°ƒç”¨æ„é€ å‡½æ•°åˆ›å»º bean çš„åœ°æ–¹ï¼Œç›´æ¥æŒ‡å®šè¦è¢«æ„å»ºçš„ç±»ï¼Œåœ¨æŸç§ç¨‹åº¦ä¸Šç›¸å½“äºåœ¨ Java ä»£ç ä¸­ä½¿ç”¨new æ“ä½œç¬¦</p>
</li>
<li>
<p>é€šè¿‡æŒ‡å®šåŒ…å«åˆ›å»ºè¿™ä¸ªå¯¹è±¡é™æ€å·¥å‚æ–¹æ³•çš„ç±»ï¼Œå®¹å™¨è°ƒç”¨è¿™ä¸ªç±»çš„é™æ€å·¥å‚æ–¹æ³•åˆ›å»º beanï¼Œè¿™æ˜¯ä¸€ä¸ªä¸å¤ªå¸¸è§çš„ç”¨æ³•ã€‚é™æ€å·¥å‚æ–¹æ³•è¿”å›çš„å¯¹è±¡ç±»å‹ä¹Ÿè®¸å’Œæ­¤ç±»ç›¸åŒæˆ–è€…å®Œå…¨ä¸åŒ</p>
</li>
</ul>
<blockquote>
<p>åµŒå¥—çš„ç±»å</p>
<p>å¦‚æœä½ æƒ³å¯¹ä¸€ä¸ªåµŒå¥—ç±»å®šä¹‰é…ç½® bean å®šä¹‰ï¼Œä½ å¯ä»¥ä½¿ç”¨è¿™ä¸ªåµŒå¥—ç±»çš„äºŒè¿›åˆ¶åæˆ–è€…æºæ–‡ä»¶å</p>
<p>ä¾‹å¦‚ï¼Œå¦‚æœåœ¨ <code>com.example</code> åŒ…é‡Œæœ‰ä¸€ä¸ªç±»å« <code>SomeThing</code>ï¼Œå¹¶ä¸”è¿™ä¸ª <code>SomeThing</code> ç±»æœ‰ä¸€ä¸ªå« <code>OtherThing</code> çš„é™æ€åµŒå¥—ç±»ï¼Œä»–ä»¬å¯ä»¥é€šè¿‡ <code>$</code> æˆ–è€… <code>.</code> ç¬¦å·åˆ†å‰²ï¼Œæ‰€ä»¥ bean å®šä¹‰ä¸­çš„ <code>class</code> å±æ€§å€¼ä¼šæ˜¯ï¼š<code>com.example.SomeThing$OtherThing</code> æˆ–è€… <code>com.example.SomeThing.OtherThing</code>.</p></blockquote>
<h1 id="é€šè¿‡æ„é€ å™¨å®ä¾‹åŒ–">é€šè¿‡æ„é€ å™¨å®ä¾‹åŒ–</h1>
<p>å½“ä½ é€šè¿‡æ„é€ å™¨çš„æ–¹å¼æ¥åˆ›å»º beanï¼Œæ‰€æœ‰æ™®é€šç±»éƒ½å¯ä»¥è¢«ä½¿ç”¨å¹¶ä¸”ä¸ Spring å…¼å®¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ­£åœ¨è¢«å¼€å‘çš„ç±»æ²¡å¿…è¦å®ç°ä»»ä½•ç‰¹æ®Šçš„æ¥å£æˆ–è€…ç”¨ä¸€ç§ç‰¹æ®Šçš„æ–¹å¼ç¼–ç ã€‚åªéœ€è¦æŒ‡å®š bean çš„ç±»å°±è¶³å¤Ÿäº†ã€‚ç„¶è€Œï¼Œæ ¹æ®ä½ ä¸ºäº†åˆ›å»ºç‰¹å®š bean é€‰æ‹©çš„ IoCç±»å‹ï¼Œä½ ä¹Ÿè®¸ä¼šéœ€è¦ä¸€ä¸ªé»˜è®¤ï¼ˆç©ºçš„ï¼‰æ„é€ å™¨ã€‚</p>
<p>Spring IoC å®¹å™¨å‡ ä¹å¯ä»¥æ“ä½œä»»ä½•ä½ æƒ³æ“ä½œçš„ç±»ã€‚å¹¶ä¸ä»…é™äºæ“ä½œçœŸæ­£çš„ JavaBeanã€‚å¤§éƒ¨åˆ† Spring çš„ç”¨æˆ·æ›´åçˆ±ä½¿ç”¨åªåŒ…å«ä¸€ä¸ªæ— å‚æ„é€ å™¨ï¼Œåˆé€‚çš„ setter å’Œ getter å»ºæ¨¡çš„ JavaBeanã€‚ä½ ä¹Ÿå¯ä»¥åœ¨ä½ çš„å®¹å™¨ä¸­ä½¿ç”¨æ›´å¤šçš„é bean é£æ ¼çš„ç±»ã€‚ä¾‹å¦‚ï¼Œå¦‚æœä½ éœ€è¦ä½¿ç”¨ä¸€ä¸ªé—ç•™ä¸‹æ¥çš„ç»å¯¹æ²¡æœ‰éµå¾ª  JavaBean è§„èŒƒçš„è¿æ¥æ± ï¼ŒSpring åŒæ ·æ“ä½œå®ƒã€‚</p>
<p>åœ¨ä¸‹é¢çš„åŸºäº XML é…ç½®å…ƒæ•°æ®ä¾‹å­ä¸­ï¼Œä½ å¯ä»¥æŒ‡å®šä½ çš„ bean ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;exampleBean&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;examples.ExampleBean&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">name=</span><span style="color:#e6db74">&#34;anotherExample&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;examples.ExampleBeanTwo&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><h1 id="é€šè¿‡é™æ€æ–¹æ³•å®ä¾‹åŒ–">é€šè¿‡é™æ€æ–¹æ³•å®ä¾‹åŒ–</h1>
<p>å½“å®šä¹‰ä¸€ä¸ªä½ æƒ³é€šè¿‡é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºçš„ bean æ—¶ï¼Œéœ€è¦ä½¿ç”¨ <code>class</code> å±æ€§æŒ‡å®šåŒ…å«è¿™ä¸ªé™æ€å·¥å‚æ–¹æ³•çš„ç±»ï¼Œä½¿ç”¨ <code>factory-method</code> å±æ€§ï¼ŒæŒ‡å®šè¿™ä¸ªå·¥å‚æ–¹æ³•æœ¬èº«ã€‚ä½ èƒ½å¤Ÿè°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼ˆé€šè¿‡å¯é€‰å‚æ•°ï¼Œè¿™ä¸ªå¾…é©¬ä¸Šä¼šè®²åˆ°ï¼‰è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œéšåï¼Œè¿™ä¸ªå¯¹è±¡çœ‹åšæ˜¯é€šè¿‡æ„é€ å‡½æ•°åˆ›å»ºçš„ã€‚è¿™æ ·å®šä¹‰ bean çš„ä¸€ä¸ªä½¿ç”¨åœºæ™¯å°±æ˜¯è°ƒç”¨é—ç•™ä»£ç ä¸­çš„é™æ€å·¥å‚ã€‚</p>
<p>ä¸‹é¢çš„ bean å®šä¹‰ï¼ŒæŒ‡å®šäº†å°†è¦é€šè¿‡å·¥å‚æ–¹æ³•åˆ›å»ºçš„ beanã€‚è¿™ä¸ªå®šä¹‰ä¸ä¼šæŒ‡å®šè¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œè€Œæ˜¯æŒ‡å®šåŒ…å«é™æ€æ–¹æ³•çš„ç±»ã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ<code>createInstance()</code> æ–¹æ³•å¿…é¡»æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³•ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†æ€ä¹ˆå»æŒ‡å®šä¸€ä¸ªå·¥å‚æ–¹æ³•ã€‚</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clientService&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;examples.ClientService&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-method=</span><span style="color:#e6db74">&#34;createInstance&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸€ä¸ªä¸Šé¢ bean å®šä¹‰ç”¨åˆ°çš„ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ClientService</span> {
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ClientService clientService <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ClientService();
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> <span style="color:#a6e22e">ClientService</span>() {}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> ClientService <span style="color:#a6e22e">createInstance</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> clientService;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>æƒ³äº†è§£å…³äºå¦‚ä½•ç»™å·¥å‚æ–¹æ³•ä¼ å‚å¹¶ä¸”åœ¨å·¥å‚è¿”å›çš„å¯¹è±¡ä¸­è®¾ç½®å¯¹è±¡å®ä¾‹çš„å±æ€§çš„ç»†èŠ‚ï¼Œå¯ä»¥å‚è€ƒ <a href="https://docs.spring.io/spring-framework/reference/core/beans/dependencies/factory-properties-detailed.html">Dependencies and Configuration in Detail.</a>ã€‚</p>
<h1 id="é€šè¿‡å®ä¾‹çš„å·¥å‚æ–¹æ³•">é€šè¿‡å®ä¾‹çš„å·¥å‚æ–¹æ³•</h1>
<p>ä¸é€šè¿‡é™æ€å·¥å‚æ–¹æ³•å®ä¾‹åŒ–ç›¸ä¼¼ï¼Œé€šè¿‡å®ä¾‹çš„å·¥å‚æ–¹æ³•è°ƒç”¨ä¸€ä¸ªå®¹å™¨ä¸­ä¸€ä¸ªç°æœ‰ bean çš„éé™æ€æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„ beanã€‚è¦æƒ³ä½¿ç”¨è¿™ä¸ªæœºåˆ¶ï¼Œéœ€è¦å°† <code>class</code> å±æ€§ç½®ç©ºå¹¶ä¸”åœ¨ <code>factory-bean</code> å±æ€§æŒ‡å®šå½“å‰å®¹å™¨ï¼ˆçˆ¶å®¹å™¨æˆ–è€…ç¥–çˆ¶å®¹å™¨ï¼‰ä¸­çš„ bean çš„åç§°ï¼Œæ­¤ bean åŒ…å«åˆ›å»ºå¯¹è±¡å®ä¾‹çš„æ–¹æ³•ã€‚åœ¨ <code>factory-method</code> å±æ€§ä¸­è®¾ç½®å·¥å‚æ–¹æ³•æœ¬èº«çš„åå­—ã€‚ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†å¦‚ä½•é…ç½®è¿™æ ·ä¸€ä¸ª beanï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- the factory bean, which contains a method called createInstance() --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;serviceLocator&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;examples.DefaultServiceLocator&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- inject any dependencies required by this locator bean --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e">&lt;!-- the bean to be created via the factory bean --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clientService&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-bean=</span><span style="color:#e6db74">&#34;serviceLocator&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-method=</span><span style="color:#e6db74">&#34;createClientServiceInstance&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸ä¹‹ç›¸åº”çš„ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DefaultServiceLocator</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ClientService clientService <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ClientServiceImpl();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">public</span> ClientService <span style="color:#a6e22e">createClientServiceInstance</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> clientService;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>ä¸€ä¸ªå·¥å‚ç±»ï¼ŒåŒæ ·ä¹Ÿå¯ä»¥åŒ…å«æ›´å¤šçš„å·¥å‚æ–¹æ³•ï¼Œå¦‚ä¸‹é¢çš„ä¾‹å­æ‰€ç¤ºï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-XML" data-lang="XML"><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;serviceLocator&#34;</span> <span style="color:#a6e22e">class=</span><span style="color:#e6db74">&#34;examples.DefaultServiceLocator&#34;</span><span style="color:#f92672">&gt;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#75715e">&lt;!-- inject any dependencies required by this locator bean --&gt;</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;/bean&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;clientService&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-bean=</span><span style="color:#e6db74">&#34;serviceLocator&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-method=</span><span style="color:#e6db74">&#34;createClientServiceInstance&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">&lt;bean</span> <span style="color:#a6e22e">id=</span><span style="color:#e6db74">&#34;accountService&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-bean=</span><span style="color:#e6db74">&#34;serviceLocator&#34;</span>
</span></span><span style="display:flex;"><span>	<span style="color:#a6e22e">factory-method=</span><span style="color:#e6db74">&#34;createAccountServiceInstance&#34;</span><span style="color:#f92672">/&gt;</span>
</span></span></code></pre></div><p>ä¸‹é¢çš„ä¾‹å­å±•ç¤ºäº†ä¸ä¹‹ç›¸å¯¹åº”çš„ç±»ï¼š</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-Java" data-lang="Java"><span style="display:flex;"><span><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DefaultServiceLocator</span> {
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> ClientService clientService <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ClientServiceImpl();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> AccountService accountService <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AccountServiceImpl();
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">public</span> ClientService <span style="color:#a6e22e">createClientServiceInstance</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> clientService;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>	<span style="color:#66d9ef">public</span> AccountService <span style="color:#a6e22e">createAccountServiceInstance</span>() {
</span></span><span style="display:flex;"><span>		<span style="color:#66d9ef">return</span> accountService;
</span></span><span style="display:flex;"><span>	}
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>è¿™ä¸ªæ–¹æ³•å±•ç¤ºäº†å·¥å‚ bean æœ¬èº«æ˜¯å¯ä»¥é€šè¿‡ä¾èµ–æ³¨å…¥æœºåˆ¶è¢«è®¾ç½®å’Œé…ç½®çš„ã€‚</p>
<p>Noteï¼šåœ¨ Spring çš„æ–‡æ¡£ä¸­ï¼Œ&ldquo;factory bean&rdquo; æŒ‡çš„æ˜¯ä¸€ä¸ªåœ¨ Spring å®¹å™¨ä¸­é…ç½®å¥½å¹¶ä¸”é€šè¿‡å®ä¾‹æˆ–è€…é™æ€å·¥å‚æ–¹æ³•åˆ›å»ºå¥½çš„ beanã€‚ä¸ä¹‹ç›¸å¯¹æ¯”ï¼Œ<code>FactoryBean</code>ï¼ˆæ³¨æ„é¦–å­—æ¯ï¼‰ï¼ŒæŒ‡çš„æ˜¯ä¸€ä¸ª Spring ç‰¹å®šçš„ <code>FactoryBean</code> çš„å®ç°ç±»ã€‚</p>
<h1 id="ç¡®å®šä¸€ä¸ª-bean-çš„è¿è¡Œæ—¶ç±»å">ç¡®å®šä¸€ä¸ª bean çš„è¿è¡Œæ—¶ç±»å</h1>
<p>ç¡®å®šä¸€ä¸ªç‰¹å®šçš„beançš„è¿è¡Œæ—¶ç±»å‹å¹¶éæ˜“äº‹ã€‚ä¸€ä¸ªåœ¨ bean å…ƒæ•°æ®å®šä¹‰ä¸­æŒ‡å®šçš„ç±»ä»…ä»…æ˜¯ä¸€ä¸ªå¯èƒ½ä¸ä¸€ä¸ªå£°æ˜çš„å·¥å‚æ–¹æ³•ç»„åˆçš„åˆå§‹ç±»å¼•ç”¨ï¼Œæˆ–è€…æ˜¯ä¸€ä¸ªä¼š
è®©æ­¤ bean çš„è¿è¡Œæ—¶ç±»å‹å®Œå…¨ä¸åŒçš„ FactoryBean ç±»ï¼Œæˆ–è€…åœ¨å®ä¾‹çº§åˆ«çš„å·¥å‚æ–¹æ³•ï¼ˆé€šè¿‡æŒ‡å®šçš„ factory-bean æ¥è§£å†³ï¼‰ä»€ä¹ˆä¹Ÿä¸åšã€‚æ­¤å¤–ï¼ŒAOP ä»£ç†ä¹Ÿä¼šé€šè¿‡bean æ¥å£ä»£ç†æ¥åŒ…è£…ä¸€ä¸ªbeanå®ä¾‹ï¼Œæ­¤æ¥å£ä»£ç†ä¼šæœ‰é™åœ°æš´éœ²ç›®æ ‡beançš„å®é™…ç±»å‹ï¼ˆä»…ä»…æ˜¯å·²ç»å®ç°çš„æ¥å£ï¼‰ã€‚</p>
<p>æ‰¾å‡ºä¸€ä¸ªç‰¹å®š bean çš„å®é™…è¿è¡Œæ—¶ç±»å‹çš„æ¨èçš„æ–¹æ³•æ˜¯é€šè¿‡æŒ‡å®š bean åå­—ï¼Œè°ƒç”¨ <code>BeanFactory.getType</code> æ–¹æ³•ã€‚è¿™ç§æ–¹æ³•å°†ä¸Šé¢æ‰€æœ‰çš„æƒ…å½¢è€ƒè™‘åœ¨å†…ï¼Œå¹¶ä¸”è¿”å›å¯¹è±¡çš„ç±»å‹ï¼Œæ­¤å¯¹è±¡ä¹Ÿæ˜¯åœ¨ç›¸åŒåç§°ä¸‹ï¼Œè°ƒç”¨ <code>BeanFactory.getBean</code> æ–¹æ³•ä¼šè¿”å›çš„ã€‚</p>
<p>[å…¨æ–‡å®Œ]</p>
 </content>

<p>
  
  <a href="http://localhost:1313/posts/tags/">#Spring</a>
  
</p>






 
<div class="toc">
<nav id="TableOfContents"></nav>
</div>



  </main>
  <footer>


Subscribe via <a href="/index.xml">RSS</a> or just <a href="mailto:anriclee@gmail.com">say hello</a>.
<br />








Made with
<a href="https://github.com/rokcso/hugo-bearblog-neo/">Hugo Bear Neo</a>.
<br />




Copyright Â© 2024-2025, Rokcso.


ğŸ—ºï¸ <a href="/sitemap.xml">Sitemap</a>.

</footer>

    


</body>

</html>
